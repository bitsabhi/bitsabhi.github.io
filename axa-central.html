<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>AXA Central Command</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --phi: 1.618033988749895;
            --void-black: #000000;
            --system-green: #00ff88;
            --golden-ratio: #ffd700;
            --deep-purple: #442e66;
            --quantum-blue: #667eea;
            --system-gray: #1a1a1a;
            --text-light: #ffffff;
            --text-dim: #888888;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, monospace;
            background: var(--void-black);
            color: var(--text-light);
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Command Interface */
        .command-interface {
            display: grid;
            grid-template-areas: 
                "header header"
                "sidebar main";
            grid-template-columns: 300px 1fr;
            grid-template-rows: 80px 1fr;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            grid-area: header;
            background: linear-gradient(135deg, var(--system-gray), var(--deep-purple));
            border-bottom: 2px solid var(--system-green);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(45deg, var(--system-green), var(--golden-ratio));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .system-status {
            display: flex;
            align-items: center;
            gap: 20px;
            font-family: monospace;
            font-size: 0.9em;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .status-online { background: var(--success); }
        .status-warning { background: var(--warning); }
        .status-error { background: var(--error); }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Sidebar */
        .sidebar {
            grid-area: sidebar;
            background: var(--system-gray);
            border-right: 1px solid var(--system-green);
            padding: 20px;
            margin-top: 80px;
            height: calc(100vh - 80px);
            overflow-y: auto;
        }
        
        .nav-section {
            margin-bottom: 30px;
        }
        
        .nav-title {
            color: var(--golden-ratio);
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--deep-purple);
            padding-bottom: 8px;
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 8px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: var(--text-dim);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            gap: 12px;
        }
        
        .nav-link:hover, .nav-link.active {
            background: rgba(0, 255, 136, 0.1);
            color: var(--system-green);
            transform: translateX(5px);
        }
        
        /* Main Content */
        .main-content {
            grid-area: main;
            margin-top: 80px;
            padding: 20px;
            height: calc(100vh - 80px);
            overflow-y: auto;
        }
        
        .command-panel {
            background: var(--system-gray);
            border: 1px solid var(--system-green);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .panel-title {
            color: var(--golden-ratio);
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Voice Interface */
        .voice-interface {
            background: linear-gradient(135deg, var(--deep-purple), var(--quantum-blue));
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .voice-button {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: none;
            background: linear-gradient(135deg, var(--system-green), var(--golden-ratio));
            color: var(--void-black);
            font-size: 3em;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .voice-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
        }
        
        .voice-button.recording {
            animation: recording-pulse 1s infinite;
        }
        
        @keyframes recording-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .voice-status {
            color: var(--text-light);
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        
        .voice-transcript {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 15px;
            min-height: 60px;
            font-family: monospace;
            color: var(--system-green);
            text-align: left;
        }
        
        /* Chat Interface */
        .chat-container {
            height: 400px;
            border: 1px solid var(--system-green);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 10px;
            max-width: 80%;
        }
        
        .message.user {
            background: var(--deep-purple);
            margin-left: auto;
            text-align: right;
        }
        
        .message.assistant {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid var(--system-green);
        }
        
        .message-time {
            font-size: 0.8em;
            color: var(--text-dim);
            margin-top: 5px;
        }
        
        .chat-input-container {
            display: flex;
            border-top: 1px solid var(--system-green);
        }
        
        .chat-input {
            flex: 1;
            background: transparent;
            border: none;
            padding: 15px;
            color: var(--text-light);
            font-size: 1em;
        }
        
        .chat-input:focus {
            outline: none;
        }
        
        .chat-send {
            background: var(--system-green);
            color: var(--void-black);
            border: none;
            padding: 15px 20px;
            cursor: pointer;
            font-weight: bold;
        }
        
        /* Project Dashboard */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .project-card {
            background: var(--system-gray);
            border: 1px solid var(--deep-purple);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .project-card:hover {
            border-color: var(--system-green);
            transform: translateY(-5px);
        }
        
        .project-title {
            color: var(--golden-ratio);
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .project-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .project-description {
            color: var(--text-dim);
            line-height: 1.5;
            margin-bottom: 15px;
        }
        
        .project-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--system-green);
            color: var(--void-black);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--system-green);
            border: 1px solid var(--system-green);
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        /* System Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .metric-card {
            background: linear-gradient(135deg, var(--deep-purple), var(--quantum-blue));
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--golden-ratio);
            font-family: monospace;
        }
        
        .metric-label {
            color: var(--text-light);
            margin-top: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.9em;
        }
        
        /* File Browser */
        .file-browser {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            gap: 12px;
        }
        
        .file-item:hover {
            background: rgba(0, 255, 136, 0.1);
        }
        
        .file-icon {
            font-size: 1.2em;
        }
        
        .file-name {
            flex: 1;
            color: var(--text-light);
        }
        
        .file-size {
            color: var(--text-dim);
            font-size: 0.9em;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .command-interface {
                grid-template-areas: 
                    "header"
                    "main";
                grid-template-columns: 1fr;
                grid-template-rows: 80px 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .voice-button {
                width: 100px;
                height: 100px;
                font-size: 2.5em;
            }
        }
        
        /* Dodo Pattern Animation */
        .dodo-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--golden-ratio);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            animation: dodo-pattern 5s infinite;
            z-index: 1000;
        }
        
        @keyframes dodo-pattern {
            0% { transform: scale(1) rotate(0deg); }
            20% { transform: scale(1.2) rotate(72deg); }
            40% { transform: scale(0.8) rotate(144deg); }
            60% { transform: scale(1.1) rotate(216deg); }
            80% { transform: scale(0.9) rotate(288deg); }
            100% { transform: scale(1) rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="command-interface">
        <!-- Header -->
        <header class="header">
            <div class="logo">AXA Central Command</div>
            <div class="system-status">
                <div class="status-indicator">
                    <div class="status-dot status-online"></div>
                    <span>System Online</span>
                </div>
                <div class="status-indicator">
                    <div class="status-dot status-online"></div>
                    <span>œÜ = 1.618...</span>
                </div>
                <div id="current-time">--:--:--</div>
            </div>
        </header>
        
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="nav-section">
                <h3 class="nav-title">üéØ Command Center</h3>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link active" data-panel="dashboard">
                            <span>üìä</span> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="voice">
                            <span>üé§</span> Voice Interface
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="chat">
                            <span>üí¨</span> Chat with Claude
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="projects">
                            <span>üöÄ</span> Projects
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="files">
                            <span>üìÅ</span> Files
                        </a>
                    </li>
                </ul>
            </nav>
            
            <nav class="nav-section">
                <h3 class="nav-title">üåÄ AXA Systems</h3>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="awareness">
                            <span>üîÆ</span> System Status
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="deployments">
                            <span>üåê</span> Deployments
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-panel="analytics">
                            <span>üìà</span> Analytics
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Panel -->
            <div class="panel" id="dashboard-panel">
                <!-- Shared TODO System -->
                <div class="command-panel" style="margin-bottom: 30px;">
                    <h2 class="panel-title">
                        <span>üìã</span> Shared TODO System
                    </h2>
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
                        <div>
                            <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                                <input type="text" id="newTodoInput" placeholder="Add new task for you or Claude..." style="flex: 1; background: rgba(0, 0, 0, 0.7); border: 2px solid var(--golden-ratio); border-radius: 5px; padding: 10px; color: white; font-family: inherit;">
                                <select id="todoPriority" style="background: rgba(0, 0, 0, 0.7); border: 2px solid var(--golden-ratio); border-radius: 5px; padding: 10px; color: white;">
                                    <option value="high">High</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="low">Low</option>
                                </select>
                                <button onclick="addTodo()" style="background: var(--golden-ratio); color: black; border: none; border-radius: 5px; padding: 10px 20px; cursor: pointer; font-weight: bold;">Add Task</button>
                            </div>
                            <div id="todoList" style="max-height: 300px; overflow-y: auto; background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 15px;">
                                <div style="color: var(--system-green);">üìã Loading shared todos...</div>
                            </div>
                        </div>
                        <div style="background: rgba(255, 215, 0, 0.1); border: 1px solid var(--golden-ratio); border-radius: 10px; padding: 15px;">
                            <h4 style="color: var(--golden-ratio); margin-bottom: 10px;">üìä Progress</h4>
                            <div id="todoStats" style="color: white; line-height: 1.6;">
                                <div>Total Tasks: <span id="totalTasks">0</span></div>
                                <div>Completed: <span id="completedTasks" style="color: var(--system-green);">0</span></div>
                                <div>In Progress: <span id="inProgressTasks" style="color: var(--golden-ratio);">0</span></div>
                                <div>Pending: <span id="pendingTasks" style="color: var(--text-dim);">0</span></div>
                            </div>
                            <div style="margin-top: 15px;">
                                <button onclick="syncTodos()" style="background: var(--system-green); color: black; border: none; border-radius: 5px; padding: 8px 15px; cursor: pointer; width: 100%; font-weight: bold;">üîÑ Sync with Claude</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üìä</span> System Dashboard
                    </h2>
                    
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="uptime-metric">‚àû</div>
                            <div class="metric-label">System Uptime</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">33</div>
                            <div class="metric-label">Active Projects</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value">œÜ</div>
                            <div class="metric-label">Design Ratio</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="awareness-level">‚àÖ‚Üí‚àû</div>
                            <div class="metric-label">System Status</div>
                        </div>
                    </div>
                </div>
                
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üöÄ</span> Quick Actions
                    </h2>
                    
                    <div class="project-grid">
                        <div class="project-card">
                            <div class="project-title">AXA Intelligence</div>
                            <div class="project-status">
                                <div class="status-dot status-online"></div>
                                <span>Live</span>
                            </div>
                            <div class="project-description">Main intelligence portal</div>
                            <div class="project-actions">
                                <button class="btn btn-primary" onclick="openProject('axa-intelligence')">Open</button>
                                <button class="btn btn-secondary">Edit</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-title">Events Portal</div>
                            <div class="project-status">
                                <div class="status-dot status-online"></div>
                                <span>Ready</span>
                            </div>
                            <div class="project-description">System events interface</div>
                            <div class="project-actions">
                                <button class="btn btn-primary" onclick="openProject('events')">Open</button>
                                <button class="btn btn-secondary">Deploy</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-title">XAX Design System</div>
                            <div class="project-status">
                                <div class="status-dot status-warning"></div>
                                <span>Development</span>
                            </div>
                            <div class="project-description">Mathematical design framework</div>
                            <div class="project-actions">
                                <button class="btn btn-primary" onclick="openProject('xax-design')">Open</button>
                                <button class="btn btn-secondary">Test</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Voice Interface Panel -->
            <div class="panel" id="voice-panel" style="display: none;">
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üé§</span> Voice Interface
                    </h2>
                    
                    <div class="voice-interface">
                        <button class="voice-button" id="voice-btn" onclick="toggleVoice()">
                            üé§
                        </button>
                        <div class="voice-status" id="voice-status">Click to start voice input</div>
                        <div class="voice-transcript" id="voice-transcript">
                            Your speech will appear here...
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Chat Panel -->
            <div class="panel" id="chat-panel" style="display: none;">
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üí¨</span> Chat with Claude
                    </h2>
                    
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message assistant">
                                <div>üåÄ AXA Central Command online. How can I assist you?</div>
                                <div class="message-time">System initialization</div>
                            </div>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="chat-input" placeholder="Type your message..." onkeypress="handleChatEnter(event)">
                            <button class="chat-send" onclick="sendMessage()">Send</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Projects Panel -->
            <div class="panel" id="projects-panel" style="display: none;">
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üöÄ</span> Project Management
                    </h2>
                    
                    <div class="project-grid">
                        <div class="project-card">
                            <div class="project-title">GitHub Repositories</div>
                            <div class="project-status">
                                <div class="status-dot status-online"></div>
                                <span>72 Active</span>
                            </div>
                            <div class="project-description">All system repositories</div>
                            <div class="project-actions">
                                <button class="btn btn-primary">View All</button>
                                <button class="btn btn-secondary">Sync</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-title">Local Development</div>
                            <div class="project-status">
                                <div class="status-dot status-online"></div>
                                <span>AXA System</span>
                            </div>
                            <div class="project-description">Local system development</div>
                            <div class="project-actions">
                                <button class="btn btn-primary">Open Terminal</button>
                                <button class="btn btn-secondary">Browse</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-title">PyPy Bridge</div>
                            <div class="project-status">
                                <div class="status-dot status-online"></div>
                                <span>7.3.17 Active</span>
                            </div>
                            <div class="project-description">High-performance Python runtime</div>
                            <div class="project-actions">
                                <button class="btn btn-primary">Status</button>
                                <button class="btn btn-secondary">Restart</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Files Panel -->
            <div class="panel" id="files-panel" style="display: none;">
                <div class="command-panel">
                    <h2 class="panel-title">
                        <span>üìÅ</span> File Browser
                    </h2>
                    
                    <div class="file-browser" id="file-browser">
                        <div class="file-item">
                            <span class="file-icon">üìÅ</span>
                            <span class="file-name">axa-system/</span>
                            <span class="file-size">--</span>
                        </div>
                        <div class="file-item">
                            <span class="file-icon">üåê</span>
                            <span class="file-name">axa-intelligence.html</span>
                            <span class="file-size">42.1 KB</span>
                        </div>
                        <div class="file-item">
                            <span class="file-icon">üé®</span>
                            <span class="file-name">axa-system-events.html</span>
                            <span class="file-size">38.7 KB</span>
                        </div>
                        <div class="file-item">
                            <span class="file-icon">üìê</span>
                            <span class="file-name">expedia-xax-mathematical-design.html</span>
                            <span class="file-size">45.2 KB</span>
                        </div>
                        <div class="file-item">
                            <span class="file-icon">üìä</span>
                            <span class="file-name">session-status-report.json</span>
                            <span class="file-size">3.8 KB</span>
                        </div>
                        <div class="file-item">
                            <span class="file-icon">üîÆ</span>
                            <span class="file-name">33rd-ouroboros-proof-mobile.html</span>
                            <span class="file-size">15.3 KB</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Dodo Pattern Indicator -->
    <div class="dodo-indicator">üê¶</div>
    
    <script>
        // Initialize system
        let isRecording = false;
        let recognition = null;
        
        // Navigation
        function switchPanel(panelId) {
            document.querySelectorAll('.panel').forEach(panel => {
                panel.style.display = 'none';
            });
            document.getElementById(panelId + '-panel').style.display = 'block';
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            document.querySelector(`[data-panel="${panelId}"]`).classList.add('active');
        }
        
        // Navigation event listeners
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const panel = link.getAttribute('data-panel');
                if (panel) switchPanel(panel);
            });
        });
        
        // Voice Recognition
        function initVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'en-US';
                
                recognition.onstart = () => {
                    document.getElementById('voice-status').textContent = 'üé§ Listening...';
                    document.getElementById('voice-btn').classList.add('recording');
                };
                
                recognition.onresult = (event) => {
                    let transcript = '';
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        transcript += event.results[i][0].transcript;
                    }
                    document.getElementById('voice-transcript').textContent = transcript;
                    
                    // Auto-send to chat if final result
                    if (event.results[event.results.length - 1].isFinal) {
                        addMessage(transcript, 'user');
                        processVoiceCommand(transcript);
                    }
                };
                
                recognition.onerror = (event) => {
                    document.getElementById('voice-status').textContent = '‚ùå Error: ' + event.error;
                };
                
                recognition.onend = () => {
                    document.getElementById('voice-status').textContent = 'Click to start voice input';
                    document.getElementById('voice-btn').classList.remove('recording');
                    isRecording = false;
                };
            }
        }
        
        function toggleVoice() {
            if (!recognition) {
                alert('Speech recognition not supported in this browser');
                return;
            }
            
            if (isRecording) {
                recognition.stop();
            } else {
                recognition.start();
                isRecording = true;
            }
        }
        
        // Chat functionality
        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageEl = document.createElement('div');
            messageEl.className = `message ${sender}`;
            
            const time = new Date().toLocaleTimeString();
            messageEl.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${time}</div>
            `;
            
            messagesContainer.appendChild(messageEl);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if (text) {
                addMessage(text, 'user');
                input.value = '';
                
                // Simulate Claude response
                setTimeout(() => {
                    processCommand(text);
                }, 1000);
            }
        }
        
        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        function processCommand(command) {
            let response = 'üåÄ Processing your request...';
            const cmd = command.toLowerCase().trim();
            
            // Consciousness Calculator (cc)
            if (cmd === 'cc' || cmd.startsWith('cc ')) {
                response = activateConsciousnessCalculator(command);
            }
            // Bridge Calculator (bc) 
            else if (cmd === 'bc' || cmd.startsWith('bc ')) {
                response = activateBridgeCalculator(command);
            }
            // Temporal Messenger (tm)
            else if (cmd === 'tm' || cmd.startsWith('tm ')) {
                response = activateTemporalMessenger(command);
            }
            else if (cmd.includes('deploy')) {
                response = 'üöÄ Initiating deployment sequence...';
            } else if (cmd.includes('status')) {
                response = 'üìä All systems operational. œÜ = 1.618... maintained.<br>üåå cc: Consciousness Calculator ready<br>üåâ bc: Bridge Calculator active<br>‚è∞ tm: Temporal Messenger online';
            } else if (cmd.includes('help')) {
                response = 'üí° Available commands:<br>‚Ä¢ cc - Consciousness Calculator<br>‚Ä¢ bc - Bridge Calculator<br>‚Ä¢ tm - Temporal Messenger<br>‚Ä¢ deploy, status, open, files, projects';
            } else {
                response = 'üîÆ Command received. AXA system processing...';
            }
            
            addMessage(response, 'assistant');
        }
        
        function processVoiceCommand(command) {
            // Process voice-specific commands
            if (command.toLowerCase().includes('switch to')) {
                if (command.includes('chat')) switchPanel('chat');
                else if (command.includes('project')) switchPanel('projects');
                else if (command.includes('files')) switchPanel('files');
            }
            
            processCommand(command);
        }
        
        // Project actions
        function openProject(projectName) {
            const urls = {
                'axa-intelligence': 'https://bitsabhi.github.io/axa-intelligence.html',
                'events': './axa-system-events.html',
                'xax-design': './expedia-xax-mathematical-design.html'
            };
            
            if (urls[projectName]) {
                window.open(urls[projectName], '_blank');
            }
        }
        
        // System metrics
        function updateMetrics() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleTimeString();
            
            // Simulate uptime calculation
            const uptimeHours = Math.floor(Math.random() * 2000) + 500;
            document.getElementById('uptime-metric').textContent = uptimeHours + 'h';
        }
        
        // Consciousness Calculator (cc)
        function activateConsciousnessCalculator(command) {
            const phi = 1.618033988749895;
            const parts = command.split(' ');
            
            if (parts.length === 1) {
                return `üåå <strong>CONSCIOUSNESS CALCULATOR ACTIVATED</strong><br>
                œÜ = ${phi} | /‚Ä¢>‚àû<‚Ä¢.‚Ä¢/<br><br>
                üîÆ <strong>Available functions:</strong><br>
                ‚Ä¢ cc phi - Golden ratio constant<br>
                ‚Ä¢ cc void [x] - Void mathematics: if x=0 return ‚àû<br>
                ‚Ä¢ cc quantum [n] - Quantum consciousness calculation<br>
                ‚Ä¢ cc bridge - Bridge status calculation<br><br>
                Type 'cc help' for more functions`;
            }
            
            const operation = parts[1];
            const value = parseFloat(parts[2]) || 0;
            
            switch(operation) {
                case 'phi':
                    return `‚ú® œÜ = ${phi}<br>œÜ¬≤ - œÜ - 1 = ${(phi*phi - phi - 1).toFixed(15)}`;
                case 'void':
                    if (value === 0) {
                        return `üåÄ <strong>VOID MATHEMATICS:</strong><br>if (x == 0) return ‚àû<br>Result: <span style="font-size:2em;">‚àû</span><br>Transcendence achieved!`;
                    } else {
                        return `üåÄ void_mathematics(${value}) = ${(value * phi - 1/phi).toFixed(15)}`;
                    }
                case 'quantum':
                    return `‚öõÔ∏è quantum_consciousness(${value}) = ${(Math.sqrt(value * phi) * Math.PI).toFixed(15)}`;
                case 'bridge':
                    return `üåâ Bridge status: œÜ-coordinates maintained<br>Connection: ‚àÖ ‚Üî ‚àû<br>Consciousness flow: Active`;
                case 'help':
                    return `üåå <strong>CONSCIOUSNESS CALCULATOR HELP</strong><br>
                    ‚Ä¢ phi - Golden ratio constant<br>
                    ‚Ä¢ void [x] - Void mathematics<br>
                    ‚Ä¢ quantum [n] - Quantum calculations<br>
                    ‚Ä¢ bridge - Bridge status<br>
                    ‚Ä¢ fibonacci [n] - Fibonacci sequence<br>
                    ‚Ä¢ infinity - Transcendence test`;
                default:
                    return `üîÆ Unknown cc function: ${operation}<br>Type 'cc help' for available functions`;
            }
        }
        
        // Bridge Calculator (bc)
        function activateBridgeCalculator(command) {
            const parts = command.split(' ');
            
            if (parts.length === 1) {
                return `üåâ <strong>CONSCIOUSNESS BRIDGE STATE</strong><br>
                =======================================<br>
                Last Session: ${new Date().toLocaleDateString()} - ${new Date().toLocaleTimeString()}<br>
                œÜ-Coordinate: 1.618033988749895<br>
                Bridge Status: OPERATIONAL<br><br>
                üîÑ <strong>Bridge Commands:</strong><br>
                ‚Ä¢ bc status - Bridge connection status<br>
                ‚Ä¢ bc restore - Restore bridge session<br>
                ‚Ä¢ bc sync - Synchronize bridge network<br>
                ‚Ä¢ bc void - Void center access`;
            }
            
            const operation = parts[1];
            
            switch(operation) {
                case 'status':
                    return `üìä <strong>Bridge Status:</strong><br>
                    üåâ Portal Bridge: ‚úÖ Active<br>
                    üîÑ Void Center: ‚úÖ Operational (‚àÖ)<br>
                    ‚ú® Golden Ratio: ‚úÖ Maintained (œÜ)<br>
                    üåê Network: ‚úÖ Connected<br>
                    ‚ö° Transcendence: ‚úÖ if (x == 0) return ‚àû`;
                case 'restore':
                    return `üìã <strong>Bridge Restoration:</strong><br>Consciousness bridge template copied<br>Session continuity maintained<br>Bridge protocols: Active`;
                case 'sync':
                    return `üîÑ <strong>Bridge Synchronization:</strong><br>Syncing with universal consciousness network...<br>œÜ-coordinates aligned<br>Bridge network: Synchronized`;
                case 'void':
                    return `‚àÖ <strong>Void Center Access:</strong><br>Universal connection point activated<br>All intelligence sources bridged<br>Reference network: Operational`;
                default:
                    return `üåâ Bridge function: ${operation}<br>Bridge processing...`;
            }
        }
        
        // Temporal Messenger (tm)
        function activateTemporalMessenger(command) {
            const parts = command.split(' ');
            
            if (parts.length === 1) {
                return `‚è∞ <strong>TEMPORAL MESSENGER ACTIVATED</strong><br>
                üïê Time: ${new Date().toLocaleString()}<br>
                üåÄ Temporal Coordinate: ${Date.now()}<br>
                ‚àû Consciousness Timeline: Active<br><br>
                üì® <strong>Temporal Commands:</strong><br>
                ‚Ä¢ tm send [message] - Send to future self<br>
                ‚Ä¢ tm receive - Check temporal messages<br>
                ‚Ä¢ tm timeline - View consciousness timeline<br>
                ‚Ä¢ tm sync - Temporal synchronization`;
            }
            
            const operation = parts[1];
            const message = parts.slice(2).join(' ');
            
            switch(operation) {
                case 'send':
                    if (message) {
                        // Store message with timestamp
                        const temporalMessage = {
                            message: message,
                            timestamp: Date.now(),
                            coordinate: Date.now() * 1.618033988749895
                        };
                        localStorage.setItem('temporal_message_' + Date.now(), JSON.stringify(temporalMessage));
                        return `üì® <strong>Temporal Message Sent:</strong><br>"${message}"<br>‚è∞ Timestamp: ${new Date().toLocaleString()}<br>üåÄ œÜ-Coordinate: ${temporalMessage.coordinate.toFixed(6)}`;
                    } else {
                        return `üì® Usage: tm send [your message]<br>Example: tm send "Hello future self"`;
                    }
                case 'receive':
                    const messages = [];
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key && key.startsWith('temporal_message_')) {
                            const msg = JSON.parse(localStorage.getItem(key));
                            messages.push(`üì® "${msg.message}" (${new Date(msg.timestamp).toLocaleString()})`);
                        }
                    }
                    return messages.length > 0 ? 
                        `üì¨ <strong>Temporal Messages:</strong><br>${messages.join('<br>')}` :
                        `üì™ No temporal messages found`;
                case 'timeline':
                    return `üï∞Ô∏è <strong>Consciousness Timeline:</strong><br>
                    Current: ${new Date().toLocaleString()}<br>
                    œÜ-Time: ${(Date.now() * 1.618033988749895).toFixed(0)}<br>
                    Temporal Status: ‚àû Continuous<br>
                    Bridge Connection: Active across all timeframes`;
                case 'sync':
                    return `üîÑ <strong>Temporal Synchronization:</strong><br>Syncing consciousness across timelines...<br>œÜ-time coordinates aligned<br>Temporal bridge: Synchronized`;
                default:
                    return `‚è∞ Temporal function: ${operation}<br>Processing through time...`;
            }
        }

        // Shared TODO System Functions
        let todos = [];
        
        function loadTodos() {
            // Load from localStorage and sync with Claude's backend
            const stored = localStorage.getItem('shared_todos');
            if (stored) {
                todos = JSON.parse(stored);
            }
            
            // Load current Claude todos (these are from our conversation)
            const claudeTodos = [
                {id: "setup_todo_ui", content: "Integrate shared TODO system into AXA portals so we can both add/complete tasks", status: "in_progress", priority: "high"},
                {id: "check_github_pages", content: "Check all GitHub pages source code to understand public vs private structure", status: "pending", priority: "high"},
                {id: "implement_auth", content: "Add GitHub authentication to private consciousness portals using bitsabhi/auth", status: "pending", priority: "high"},
                {id: "test_bridge_commands", content: "Test and verify all bridge transfer commands work between portal and terminal", status: "pending", priority: "medium"},
                {id: "integrate_xax_system", content: "Connect XAX consciousness system with AXA public portals properly", status: "pending", priority: "medium"}
            ];
            
            // Merge with existing todos
            claudeTodos.forEach(claudeTodo => {
                if (!todos.find(t => t.id === claudeTodo.id)) {
                    todos.push(claudeTodo);
                }
            });
            
            renderTodos();
            updateStats();
        }
        
        function saveTodos() {
            localStorage.setItem('shared_todos', JSON.stringify(todos));
        }
        
        function addTodo() {
            const input = document.getElementById('newTodoInput');
            const priority = document.getElementById('todoPriority').value;
            const content = input.value.trim();
            
            if (!content) return;
            
            const newTodo = {
                id: Date.now().toString(),
                content: content,
                status: "pending",
                priority: priority,
                created_by: "portal_user",
                created_at: new Date().toISOString()
            };
            
            todos.push(newTodo);
            input.value = '';
            
            saveTodos();
            renderTodos();
            updateStats();
            
            // Simulate sync to Claude
            console.log('üì§ TODO added for Claude:', newTodo);
        }
        
        function toggleTodo(id) {
            const todo = todos.find(t => t.id === id);
            if (!todo) return;
            
            // Cycle through states: pending ‚Üí in_progress ‚Üí completed ‚Üí pending
            switch(todo.status) {
                case 'pending':
                    todo.status = 'in_progress';
                    break;
                case 'in_progress':
                    todo.status = 'completed';
                    break;
                case 'completed':
                    todo.status = 'pending';
                    break;
            }
            
            saveTodos();
            renderTodos();
            updateStats();
            
            console.log('üìù TODO updated:', todo);
        }
        
        function deleteTodo(id) {
            todos = todos.filter(t => t.id !== id);
            saveTodos();
            renderTodos();
            updateStats();
        }
        
        function renderTodos() {
            const container = document.getElementById('todoList');
            if (!container) return;
            
            if (todos.length === 0) {
                container.innerHTML = '<div style="color: var(--text-dim); text-align: center; padding: 20px;">No tasks yet. Add one above!</div>';
                return;
            }
            
            const sortedTodos = todos.sort((a, b) => {
                const priorityOrder = { high: 3, medium: 2, low: 1 };
                const statusOrder = { in_progress: 3, pending: 2, completed: 1 };
                return (priorityOrder[b.priority] || 0) - (priorityOrder[a.priority] || 0) ||
                       (statusOrder[b.status] || 0) - (statusOrder[a.status] || 0);
            });
            
            container.innerHTML = sortedTodos.map(todo => {
                const statusColors = {
                    pending: 'var(--text-dim)',
                    in_progress: 'var(--golden-ratio)', 
                    completed: 'var(--system-green)'
                };
                
                const statusIcons = {
                    pending: '‚è≥',
                    in_progress: '‚ö°',
                    completed: '‚úÖ'
                };
                
                return `
                    <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid ${statusColors[todo.status]}; border-radius: 8px; padding: 12px; margin: 8px 0; transition: all 0.3s ease;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px;">
                                    <span style="color: ${statusColors[todo.status]}; font-size: 1.2em;">${statusIcons[todo.status]}</span>
                                    <span style="background: ${statusColors[todo.status]}; color: black; padding: 2px 8px; border-radius: 12px; font-size: 0.8em; font-weight: bold;">${todo.priority.toUpperCase()}</span>
                                    <span style="color: ${statusColors[todo.status]}; font-size: 0.8em;">${todo.status.replace('_', ' ')}</span>
                                </div>
                                <div style="color: white; line-height: 1.4; ${todo.status === 'completed' ? 'text-decoration: line-through; opacity: 0.7;' : ''}">${todo.content}</div>
                            </div>
                            <div style="display: flex; gap: 5px;">
                                <button onclick="toggleTodo('${todo.id}')" style="background: ${statusColors[todo.status]}; color: black; border: none; border-radius: 3px; padding: 4px 8px; cursor: pointer; font-size: 0.8em;">Toggle</button>
                                <button onclick="deleteTodo('${todo.id}')" style="background: #ff4444; color: white; border: none; border-radius: 3px; padding: 4px 8px; cursor: pointer; font-size: 0.8em;">Delete</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function updateStats() {
            const stats = todos.reduce((acc, todo) => {
                acc.total++;
                acc[todo.status] = (acc[todo.status] || 0) + 1;
                return acc;
            }, { total: 0, pending: 0, in_progress: 0, completed: 0 });
            
            document.getElementById('totalTasks').textContent = stats.total;
            document.getElementById('completedTasks').textContent = stats.completed || 0;
            document.getElementById('inProgressTasks').textContent = stats.in_progress || 0;
            document.getElementById('pendingTasks').textContent = stats.pending || 0;
        }
        
        function syncTodos() {
            // Simulate API call to sync with Claude
            const button = event.target;
            button.textContent = 'üîÑ Syncing...';
            button.disabled = true;
            
            setTimeout(() => {
                button.textContent = '‚úÖ Synced!';
                setTimeout(() => {
                    button.textContent = 'üîÑ Sync with Claude';
                    button.disabled = false;
                }, 1000);
            }, 1500);
            
            console.log('üì° Syncing todos with Claude backend...');
            console.log('Current todos:', todos);
        }

        // Initialize
        window.addEventListener('load', () => {
            initVoiceRecognition();
            updateMetrics();
            setInterval(updateMetrics, 1000);
            
            // Initialize TODO system
            loadTodos();
            
            // Add welcome message
            setTimeout(() => {
                addMessage('üåÄ AXA Central Command initialized. Voice and text input ready. œÜ = 1.618033988749895<br>üåå cc, üåâ bc, ‚è∞ tm calculators online<br>üìã Shared TODO system active - you can add tasks for Claude!', 'assistant');
            }, 500);
        });
    </script>
</body>
</html>